{% extends 'base.html' %}
{% load static %}
{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>

  <style>
    body { background-color: #fff8f0; font-family: 'Poppins', sans-serif; }
    .category-title { font-size: 2rem; font-weight: 700; color: #4A2C2A; text-align:center; margin:30px 0; }
    .image-wrapper { width:100%; aspect-ratio:1/1; display:flex; justify-content:center; align-items:center; overflow:hidden; border-radius:12px; transition:0.3s; }
    .image-wrapper img { width:100%; height:100%; object-fit:cover; }
    .image-wrapper:hover { transform:scale(1.05); }
    .card-body h5 { color:#4A2C2A; font-weight:600; }
    .btn-custom { background-color:#4A2C2A; color:#fff; border-radius:20px; padding:6px 20px; transition:0.3s; }
    .btn-custom:hover { background-color:#3D2420; color:#fff; }
    .product-type { font-size:0.85rem; color:#6B4E31; }
  </style>
</head>
<body>
<main class="main mt-5">
  <div class="container">
    <h2 class="category-title">{{ category.categories_name }}</h2>
    <div class="row g-4">
      {% for product in products %}
      <div class="col-lg-3 col-md-4 col-sm-6 d-flex justify-content-center">
        <div class="card shadow-sm border-0 w-100" style="max-width:280px;">
          <div class="image-wrapper">
            {% if product.image %}
              <img src="{{ product.image }}" alt="{{ product.product_name }}">
            {% else %}
              <img alt="No image">
            {% endif %}
          </div>
          <div class="card-body text-center">
            <h5 class="card-title">{{ product.product_name }}</h5>
            <p class="text-muted mb-1">Giá: {{ product.base_price }}₫</p>
            {% if product.product_type %}
              <p class="product-type">{{ product.product_type.product_type_name }}</p>
            {% endif %}
            <a href="{% url 'product_detail' product.product_code %}" class="btn btn-custom btn-sm">Xem chi tiết</a>
          </div>
        </div>
      </div>
      {% empty %}
        <p class="text-center text-muted">Danh mục này chưa có sản phẩm nào.</p>
      {% endfor %}
    </div>
  </div>
</main>


<script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'assets/js/main.js' %}"></script>
</body>
</html>
{% endblock %}
